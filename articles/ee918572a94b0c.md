---
title: "vanilla-extractã‚’ä½¿ã„ã“ãªã—ãŸã„"
emoji: "ğŸ™†"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: []
published: false
---
# vanilla-extractå…¨ç„¶ã‚ã‹ã‚‰ã‚“
ã¨ãªã£ã¦ã€å°å…¥ã‚’è«¦ã‚ãŸæ–¹ã€çµæ§‹ã„ã‚‰ã£ã—ã‚ƒã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ãã‚“ãªçš†ã•ã‚“ã«æœ—å ±ã§ã™ã€‚
ã“ã®åƒ•ãŒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿ã«èª­ã¿æ¼ã£ã¦å®Ÿéš›ã«ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ãŸä¾‹ã‹ã‚‰ã€ã¿ãªã•ã‚“ã«ã‚ã‹ã‚Šã‚„ã™ãã€ä½•ãŒã§ãã‚‹ã‹ã‚’ç´¹ä»‹ã—ã¦ã„ãã¾ã™ï¼ˆã“ã®è¨˜äº‹ã¯ã€vanilla-extractãŒä½•ã§ã‚ã‚‹ã‹ã€ã©ã†ã„ã†åˆ©ç‚¹ãŒã‚ã‚‹ã‹ã¯**æ›¸ãã¾ã›ã‚“**ã€‚ã‚ã‚‹ç¨‹åº¦åˆ©ç”¨ã—ã¦è©°ã¾ã£ãŸäººå‘ã‘ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ï¼‰

## ã¾ãšã¯åŸºç¤ã‹ã‚‰ã€‚
ã¾ãšã€
- vanilla-extractã«ãŠã‘ã‚‹ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã®APIã¯å…¥åŠ›ã¨ã—ã¦ã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã¨ã‚‹ã€‚

ã¨ã„ã†ä»•æ§˜ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ã‚’è¡Œã†CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®é›†ã¾ã‚ŠãŒã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦æ‰±ã‚ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã€‚

### CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
ã‚¹ã‚¿ã‚¤ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã§ã¯ã€é€šå¸¸ã®CSSã‚¯ãƒ©ã‚¹ã‚’è¨˜è¿°ã™ã‚‹ã®ã¨åŒæ§˜ã«ã€CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’è¨­å®šã§ãã‚‹ã€‚ã—ã‹ã—ã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã¯ã‚­ãƒ£ãƒ¡ãƒ«ã‚±ãƒ¼ã‚¹ã§æŒ‡å®šã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
æ„Ÿè¦šã¨ã—ã¦ã¯`class`â†’`className`ã®æ„Ÿè¦šã§è€ƒãˆãŸã‚‰ã‚ˆã„ã€‚
**â€»ä»¥é™ã§ã¯ã€ã‚¢ã‚¹ã‚¿ãƒªã‚¹ã‚¯ã‚’ã€Œä»»æ„ã®å€¤ã€ã®è¡¨ç¾ã¨ã—ã¦åˆ©ç”¨ã—ã¾ã™**

```typescript
import {style,globalStyle} from '@vanilla-extract/css';

/* CSSã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹
ã“ã‚Œã¯ã‚¯ãƒ©ã‚¹ã¨åŒã˜ã‚ˆã†ãªæ‰±ã„ã§ã‚¢ã‚¿ãƒƒãƒã™ã‚‹ã“ã¨ã«ãªã‚‹ã€‚
*/
export const myStyle = style({
    display: '***',
    paddingTop: '***'
});

/*ã“ã‚Œã¯ã€htmlã‚¿ã‚°å…¨ä½“ã«å½±éŸ¿ã™ã‚‹CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£*/
globalStyle('body',{
    margin: ***
})
```
#### CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£è¨­å®šæ™‚ã«å˜ä½ã‚’ä½¿ç”¨ã—ãªã„å ´åˆã®ä»•æ§˜
ä¸€éƒ¨ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ãŠã„ã¦ã€è¨­å®šå€¤ã¨ã—ã¦æ•°å€¤ã‚’å—ä»˜ã‘ã‚‹ã€‚
**å˜ä½ãªã—ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’é™¤ã„ã¦**
ã“ã‚Œã‚‰ã®å€¤ã¯ãƒ”ã‚¯ã‚»ãƒ«ã¨ã¿ãªã•ã‚Œã‚‹ãŸã‚ã€å€¤ã«pxãŒè‡ªå‹•ä»˜ä¸ã•ã‚Œã‚‹ã€‚ã¤ã¾ã‚Šã€ãã®ã‚ˆã†ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã¯æ•°å€¤ã‚’ç›´ã«å…¥ã‚Œã¦ã‚‚ã‚ˆã„ã¨ã„ã†ã“ã¨ã€‚
```typescript
import {style} from '@vanilla-extract/css'

export const myStyle = style({
    //è‡ªå‹•çš„ã«pxå˜ä½ã®å€¤ã¨ã—ã¦è§£é‡ˆã•ã‚Œã‚‹ã€‚
    padding: ***,

    //å˜ä½ãªã—ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£
    opacity: ***
})
```
##  ãƒ™ãƒ³ãƒ€ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹
ãƒ™ãƒ³ãƒ€å›ºæœ‰ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å¯¾è±¡ã¨ã™ã‚‹å ´åˆã€ãƒ‘ã‚¹ã‚«ãƒ«ã‚±ãƒ¼ã‚¹ã‚’ä½¿ç”¨ã—ã¦ã€æœ€åˆã®ãƒã‚¤ãƒ•ãƒ³ã‚’å‰Šé™¤ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã§ãã‚‹ã€‚

```typescript 
import {style} from '@vanilla-extract/css'

export const myStyle = style({
    WebkitTapHighlightColor: '***'
});
```

## CSSå¤‰æ•°
CSSå¤‰æ•°ã¯å¤‰æ•°ã¯`var`ã‚­ãƒ¼ã®ä¸­ã«å…¥ã‚Œå­ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚
ä»–ã®CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«å¯¾ã—ã¦ã€ã‚ˆã‚Šæ­£ç¢ºãªé™çš„å‹ä»˜ã‘ãŒã§ãã‚‹ã€‚
(`var`ã«ã¯`createVar`ã§ä½œæˆã•ã‚ŒãŸã‚¹ã‚³ãƒ¼ãƒ—ä»˜CSSå¤‰æ•°ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã‚‹)

```typescript
import {style} from '@vanilla-extract/css'

const myStyle = style({
    vars:{
        '--my-global-variable':'***'
    }
});
```
**or**
```typescript
import {style,createVar} from '@vanilla-extract/css'

const *** = createVar();

const myStyle = style({
    vars:{
        [***]:'***'
    }
});
```
## ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒª
`@media`ã‚­ãƒ¼ãŒã‚ã‚Šã€ã“ã‚Œã‚’ä½¿ã£ã¦ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒªã‚’ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©å†…ã«åŸ‹ã‚è¾¼ã‚ã‚‹ã®ã§ã€
ç‰¹å®šã®ã‚¹ã‚¿ã‚¤ãƒ«ã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã®ãƒ«ãƒ¼ãƒ«ã‚’ä¸€ã¤ã«çºã‚ã‚‰ã‚Œã‚‹ã€‚
```typescript
import {style} from '@vanilla-extract/css'

const myStyle = style({
    '@media':{
        'screen and (min-width: 768px)':{
            padding: ***
        },
        '(prefers-reduced-motion)':{
            transitionProperty:'***'
        }
    }
});
```

vanilla-extractã®ä»•æ§˜ã¨ã—ã¦ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®**æœ«å°¾**ã«ãƒ¡ãƒ‡ã‚£ã‚¢ã‚¯ã‚¨ãƒªã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚
ã“ã‚Œã¯CSSè¦å‰‡ã®é †åºã®å„ªå…ˆé †åºã«ã‚ˆã£ã¦ã€`@media`ã‚­ãƒ¼ã®ä¸­ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒå¸¸ã«ä»–ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚ˆã‚Šã‚‚
é«˜ã„å„ªå…ˆé †ä½ã‚’æŒã¤ã“ã¨æ„å‘³ã™ã‚‹ã€‚
â€»ã¡ãªã¿ã«ã€å®‰å…¨ã§ã‚ã‚Œã°`@media`,`@supports`,`@container`ã®æ¡ä»¶ãƒ–ãƒ­ãƒƒã‚¯ã‚’å–ã‚Šé™¤ã„ã¦ã€
å¯èƒ½ãªé™ã‚Šå°ã•ãªCSSå‡ºåŠ›ã‚’ä½œæˆã™ã‚‹ä»•æ§˜ã€‚

## ã‚»ãƒ¬ã‚¯ã‚¿
ã‚¹ã‚¿ã‚¤ãƒ«ã«å¯¾ã—ã¦ã‚»ãƒ¬ã‚¯ã‚¿ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã¯ã€
- ä»–ã®ã™ã¹ã¦ã®CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ä¸€ç·’ã«ä½¿ç”¨ã§ãã‚‹å˜ç´”ãªæ“¬ä¼¼ã‚»ãƒ¬ã‚¯ã‚¿
    ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å–ã‚‰ãªã„ã®ã§ã€ç°¡å˜ã«æ¤œå‡ºã§ãã¦é™çš„ã«å‹ä»˜ã‘ã•ã‚Œã‚‹
    ã“ã‚Œã‚‰ã¯ã€ä»–ã®CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨ä¸¦ã‚“ã§ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã§ä½¿ç”¨ã™ã‚‹å¯èƒ½ã§ã€
    CSSãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¨CSSå¤‰æ•°ã®ã¿ã‚’å«ã‚€ã“ã¨ãŒå¯èƒ½ã€‚
    ```typescript
    import {style} from '@vanilla-extract/css'

    const myStyle = style({
        `hover`:{
            color:'***'
        },
        ':first-of-type':{
            color:'***'
        },
        '::before'{
            content: '***'
        }
    });
    ```
- ã‚ˆã‚Šè¤‡é›‘ãªãƒ«ãƒ¼ãƒ«ã‚’æ§‹ç¯‰ã§ãã‚‹ã‚»ãƒ¬ã‚¯ã‚¿ã‚ªãƒ—ã‚·ãƒ§ãƒ³
    è¤‡é›‘ãªã‚»ãƒ¬ã‚¯ã‚¿ ã‚»ãƒ¬ã‚¯ã‚¿ã‚­ãƒ¼ã‚’ä½¿ã£ã¦ã€ã‚ˆã‚Šè¤‡é›‘ãªãƒ«ãƒ¼ãƒ«ã‚’è¨˜è¿°å¯èƒ½ã€‚
    ä¿å®ˆæ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ã€å„ã‚¹ã‚¿ã‚¤ãƒ« ãƒ–ãƒ­ãƒƒã‚¯ã¯ 1 ã¤ã®è¦ç´ ã®ã¿ã‚’å¯¾è±¡ã¨ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã€‚
    ã“ã‚Œã‚’å¼·åˆ¶ã™ã‚‹ãŸã‚ã€å…¨ã‚»ãƒ¬ã‚¯ã‚¿ã¯**ç¾åœ¨ã®è¦ç´ ã¸ã®å‚ç…§ã§ã‚ã‚‹ & æ–‡å­—ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ**
    ã«ã—ãªã‘ã‚Œã°ãªã‚‰ãªã„ã€‚
    ```typescript
    import {style} from '@vanilla-extract/css'

    const link = style({
        selectors:{
            '&:hovers:not(:active)':{
                border: '***'
            },
            'nav li > &':{
                textDecoration:'***'
            }
        }
    })
    ```

    ã‚»ãƒ¬ã‚¯ã‚¿ã¯ã€ä»–ã®ã‚¹ã‚³ãƒ¼ãƒ—ã•ã‚ŒãŸã‚¯ãƒ©ã‚¹åã‚’å‚ç…§ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½

    ```typescript
    import {style} from '@vanilla-extract/css'

    export const parent = style({});

    export const child = style({
        selectors:{
            [`${parent}:focus &`]:{
                background: '***'
            }
        }
    });
    ```

ç„¡åŠ¹ãªã‚»ãƒ¬ã‚¯ã‚¿ã¨ã¯ã€ç¾åœ¨ã®ã‚¯ãƒ©ã‚¹ä»¥å¤–ã®è¦ç´ ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã—ã‚ˆã†ã¨ã™ã‚‹ã‚‚ã®ã€‚

```typescript
import { style } from '@vanilla-extract/css';

const invalid = style({
  selectors: {
    // âŒ ERROR: Targetting `a[href]`
    '& a[href]': {...},

    // âŒ ERROR: Targetting `.otherClass`
    '& ~ div > .otherClass': {...}
  }
});

```
ä»–ã®ã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŒã¤ã‚¯ãƒ©ã‚¹ã‚’ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã™ã‚‹å ´åˆã¯ã€
ä»£ã‚ã‚Šã«ãã®ã‚¯ãƒ©ã‚¹ã®ã‚¹ã‚¿ã‚¤ãƒ«ãƒ–ãƒ­ãƒƒã‚¯å†…ã§å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```typescript
import { style } from '@vanilla-extract/css';

// Invalid example:
export const child = style({});
export const parent = style({
  selectors: {
    // âŒ ERROR: Targetting `child` from `parent`
    [`& ${child}`]: {...}
  }
});

// Valid example:
export const parent = style({});
export const child = style({
  selectors: {
    [`${parent} &`]: {...}
  }
});
```

ç¾åœ¨ã®è¦ç´ å†…ã®å­ãƒãƒ¼ãƒ‰ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹å ´åˆ 
ä»£ã‚ã‚Šã« globalStyle ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
```typescript
import { style, globalStyle } from '@vanilla-extract/css';

export const parent = style({});

globalStyle(`${parent} a[href]`, {
  color: 'pink'
});
```

â€»**`globalStyle`ã§ã¯ã€ã™ã¹ã¦ã®ã‚»ãƒ¬ã‚¯ã‚¿ã‚’ä½¿ç”¨ä¸å¯**ã€‚
ã“ã® API ã¯ã‚»ãƒ¬ã‚¯ã‚¿ã‚’æœ€åˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨ã—ã¦å—ã‘ä»˜ã‘ã‚‹ãŸã‚ 
ã‚»ãƒ¬ã‚¯ã‚¿ã‚’ãƒãƒ¼ã‚¸ã™ã‚‹ã¨äºˆæœŸã—ãªã„çµæœãŒç”Ÿã˜ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‹ã‚‰ã€‚
